{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_9NUgVYWpdpfaaw2AzOmcoNFnC3GMRs0Wi1mBjcPcwPAXuczeMoS1VMrV2oQZnY4E';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst END_POINT = 'breeds';\n\nexport async function fetchBreeds() {\n  const response = await axios.get(`${BASE_URL}/${END_POINT}`);\n  // console.log(response.data);\n  if (response.status !== 200) {\n    throw new Error(response.status);\n  }\n  return response.data;\n}\n\nexport async function fetchCatByBreed(breedId) {\n  const response = await axios.get(\n    `${BASE_URL}/images/search?breed_ids=${breedId}`\n  );\n  //   console.log(response.data[0]);\n  if (response.status !== 200) {\n    throw new Error(response.status);\n  }\n  return response.data[0];\n}\n","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  card: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.loader.classList.remove('hidden');\n\nconst iziToastMessage = {\n  title: 'Error',\n  message: 'Oops! Something went wrong! Try reloading the page!',\n  position: 'center',\n};\n\nfetchBreeds()\n  .then(res => {\n    const data = [...res].map(item => ({ value: item.id, text: item.name }));\n    refs.loader.classList.add('hidden');\n    const slimSelect = new SlimSelect({\n      select: document.querySelector('#selectElement'),\n      data: data,\n      option: {},\n      settings: {\n        placeholderText: 'Select Value',\n      },\n      events: {\n        afterChange: handleBreed,\n      },\n    });\n  })\n  .catch(err => {\n    refs.select.classList.add('hidden');\n    refs.loader.classList.add('hidden');\n    iziToast.error(iziToastMessage);\n  });\n\nfunction handleBreed(event) {\n  refs.card.innerHTML = '';\n  refs.loader.classList.remove('hidden');\n  const selectedId = event[0].value;\n  fetchCatByBreed(selectedId)\n    .then(res => rendereMarkup(res))\n    .catch(err => {\n      refs.loader.classList.add('hidden');\n      iziToast.error(iziToastMessage);\n    });\n}\n\nfunction rendereMarkup(obj) {\n  const { url } = obj;\n  const { name, description, temperament } = obj.breeds[0];\n  const markup = `\n  <img src=\"${url}\" alt=\"${name}\" width=\"400px\" height=\"300px\">\n  <div class=\"card-info\">\n    <h2>${name}</h2>\n    <p>${description}</p>\n    <p><b>Temperament: </b>${temperament}</p>\n  </div>`;\n  refs.loader.classList.add('hidden');\n  refs.card.innerHTML = markup;\n}\n"],"names":["axios","BASE_URL","END_POINT","fetchBreeds","response","fetchCatByBreed","breedId","refs","iziToastMessage","res","data","item","SlimSelect","handleBreed","err","iziToast","event","selectedId","rendereMarkup","obj","url","name","description","temperament","markup"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMC,EAAW,+BACXC,EAAY,SAEX,eAAeC,GAAc,CAClC,MAAMC,EAAW,MAAMJ,EAAM,IAAI,GAAGC,KAAYC,GAAW,EAE3D,GAAIE,EAAS,SAAW,IACtB,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,IAClB,CAEO,eAAeC,EAAgBC,EAAS,CAC7C,MAAMF,EAAW,MAAMJ,EAAM,IAC3B,GAAGC,6BAAoCK,GAC3C,EAEE,GAAIF,EAAS,SAAW,IACtB,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,KAAK,EACvB,CCrBA,MAAMG,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,KAAM,SAAS,cAAc,WAAW,EACxC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,UAAU,OAAO,QAAQ,EAErC,MAAMC,EAAkB,CACtB,MAAO,QACP,QAAS,sDACT,SAAU,QACZ,EAEAL,EAAa,EACV,KAAKM,GAAO,CACX,MAAMC,EAAO,CAAC,GAAGD,CAAG,EAAE,IAAIE,IAAS,CAAE,MAAOA,EAAK,GAAI,KAAMA,EAAK,IAAI,EAAG,EACvEJ,EAAK,OAAO,UAAU,IAAI,QAAQ,EACf,IAAIK,EAAW,CAChC,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,KAAMF,EACN,OAAQ,CAAE,EACV,SAAU,CACR,gBAAiB,cAClB,EACD,OAAQ,CACN,YAAaG,CACd,CACP,CAAK,CACL,CAAG,EACA,MAAMC,GAAO,CACZP,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCQ,EAAS,MAAMP,CAAe,CAClC,CAAG,EAEH,SAASK,EAAYG,EAAO,CAC1BT,EAAK,KAAK,UAAY,GACtBA,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrC,MAAMU,EAAaD,EAAM,GAAG,MAC5BX,EAAgBY,CAAU,EACvB,KAAKR,GAAOS,EAAcT,CAAG,CAAC,EAC9B,MAAMK,GAAO,CACZP,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCQ,EAAS,MAAMP,CAAe,CACpC,CAAK,CACL,CAEA,SAASU,EAAcC,EAAK,CAC1B,KAAM,CAAE,IAAAC,CAAK,EAAGD,EACV,CAAE,KAAAE,EAAM,YAAAC,EAAa,YAAAC,CAAa,EAAGJ,EAAI,OAAO,GAChDK,EAAS;AAAA,cACHJ,WAAaC;AAAA;AAAA,UAEjBA;AAAA,SACDC;AAAA,6BACoBC;AAAA,UAE3BhB,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,KAAK,UAAYiB,CACxB"}